{"version":3,"sources":["Components/imageGallery/imageGalleryItem/ImageGalleryItem.module.css","Components/modal/Modal.module.css","Components/App.module.css","Components/button/Buttom.module.css","Components/imageGallery/ImageGallery.module.css","Components/button/Button.js","Components/imageGallery/imageGalleryItem/ImageGalleryItem.js","Components/imageGallery/ImageGallery.js","Components/searchbar/Searchbar.js","Components/modal/Modal.js","Components/App.js","index.js","Components/searchbar/Searchbar.module.css"],"names":["module","exports","Button","galleryAppear","type","onClick","className","styles","ImageGalleryItem","imgURl","onPictureClick","largeImg","src","alt","ImageGalleryItemImage","ImageGallery","state","this","props","gallery","map","hit","largeImageURL","webformatURL","id","Component","Searchbar","searchedText","onHandleSubmit","e","preventDefault","onSubmit","setState","onHandleChange","value","target","SearchForm","SearchFormButton","onChange","name","SearchFormInput","Modal","onKeyDown","code","closeModal","onBackDropClick","currentTarget","window","addEventListener","removeEventListener","Overlay","children","App","page","total","error","showModal","showLoader","toggleModal","fetchApi","then","res","prevState","hits","scroll","catch","finally","scrollTo","top","document","documentElement","scrollHeight","behavior","axios","get","data","onHandleSearchbarSubmit","showBtnLoadMore","Math","ceil","prevProps","length","color","height","width","loader","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.2a2e5b79.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__3Gfvj\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__1XU_F\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__25CkC\",\"Modal\":\"Modal_Modal__2ausB\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__3Wuat\",\"loader\":\"App_loader__3Kamw\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Buttom_Button__3n8Jl\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__Fvmz9\"};","import React from \"react\";\r\nimport styles from \"./Buttom.module.css\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nconst Button = ({ galleryAppear }) => {\r\n  return (\r\n    <button type=\"button\" onClick={galleryAppear} className={styles.Button}>\r\n      Load more\r\n    </button>\r\n  );\r\n};\r\n\r\nButton.propTypes = {\r\n  galleryAppear: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Button;\r\n","import React from \"react\";\r\nimport styles from \"./ImageGalleryItem.module.css\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nconst ImageGalleryItem = ({ imgURl, onPictureClick, largeImg }) => {\r\n  return (\r\n    <li\r\n      className={styles.ImageGalleryItem}\r\n      onClick={() => onPictureClick(largeImg)}\r\n    >\r\n      <img src={imgURl} alt=\"#\" className={styles.ImageGalleryItemImage} />\r\n    </li>\r\n  );\r\n};\r\n\r\nImageGalleryItem.propTypes = {\r\n  imgURl: PropTypes.string.isRequired,\r\n  onPictureClick: PropTypes.func.isRequired,\r\n  largeImg: PropTypes.string.isRequired,\r\n};\r\n\r\nexport default ImageGalleryItem;\r\n","import React, { Component } from \"react\";\r\nimport ImageGalleryItem from \"./imageGalleryItem/ImageGalleryItem\";\r\n// import PropTypes from \"prop-types\"; ????  не понимаю почему не работает\r\n\r\nimport styles from \"./ImageGallery.module.css\";\r\n\r\nclass ImageGallery extends Component {\r\n  state = {\r\n    // gallery: [],\r\n    // page: 1,\r\n  };\r\n\r\n  //   componentDidMount() {\r\n  //     fetch(\r\n  //       `https://pixabay.com/api/?key=23308675-3bdf2416796cf281a4ef874ab&q=yellow+flowers&image_type=photo`\r\n  //     )\r\n  //       .then((res) => res.json())\r\n  //       .then((photos) => this.setState({ gallery: photos }));\r\n  //   }\r\n\r\n  //   componentDidUpdate(prevProps, prevState) {\r\n  //     if (prevProps.searchedText !== this.props.searchedText) {\r\n  //       axios\r\n  //         .get(\r\n  //           `https://pixabay.com/api/?q=${this.props.searchedText}&page=${this.state.page}&key=23308675-3bdf2416796cf281a4ef874ab&image_type=photo&orientation=horizontal&per_page=12`\r\n  //         )\r\n  //         .then((res) => {\r\n  //           return this.setState({ gallery: res.data.hits });\r\n  //         });\r\n  //     }\r\n  //   }\r\n\r\n  render() {\r\n    return (\r\n      <>\r\n        <ul className={styles.ImageGallery}>\r\n          {this.props.gallery.map((hit) => (\r\n            <ImageGalleryItem\r\n              largeImg={hit.largeImageURL}\r\n              imgURl={hit.webformatURL}\r\n              key={hit.id}\r\n              onPictureClick={this.props.onPictureClick}\r\n            />\r\n          ))}\r\n        </ul>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\n// ImageGallery.propTypes = {\r\n//   gallery: PropTypes.array.isRequired,\r\n// }; ????\r\n\r\nexport default ImageGallery;\r\n","import React, { Component } from \"react\";\r\nimport styles from \"./Searchbar.module.css\";\r\n\r\nclass Searchbar extends Component {\r\n  state = {\r\n    searchedText: \"\",\r\n  };\r\n\r\n  onHandleSubmit = (e) => {\r\n    e.preventDefault();\r\n    this.props.onSubmit(this.state.searchedText);\r\n    this.setState({ searchedText: \"\" });\r\n  };\r\n\r\n  onHandleChange = (e) => {\r\n    const value = e.target.value;\r\n    this.setState({ searchedText: value });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <>\r\n        <div className={styles.Searchbar}>\r\n          <form onSubmit={this.onHandleSubmit} className={styles.SearchForm}>\r\n            <button type=\"submit\" className={styles.SearchFormButton}></button>\r\n            <input\r\n              type=\"text\"\r\n              onChange={this.onHandleChange}\r\n              value={this.state.searchedText}\r\n              name=\"searchedText\"\r\n              className={styles.SearchFormInput}\r\n            />\r\n          </form>\r\n        </div>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Searchbar;\r\n","import React, { Component } from \"react\";\r\nimport styles from \"./Modal.module.css\";\r\n\r\nclass Modal extends Component {\r\n  componentDidMount() {\r\n    window.addEventListener(\"keydown\", this.onKeyDown);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener(\"keydown\", this.onKeyDown);\r\n  }\r\n\r\n  onKeyDown = (e) => {\r\n    if (e.code === \"Escape\") {\r\n      this.props.closeModal();\r\n    }\r\n  };\r\n\r\n  onBackDropClick = (e) => {\r\n    if (e.currentTarget === e.target) {\r\n      this.props.closeModal();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div className={styles.Overlay} onClick={this.onBackDropClick}>\r\n        <div className={styles.Modal}>{this.props.children}</div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Modal;\r\n","import React, { Component } from \"react\";\r\nimport Button from \"./button/Button\";\r\nimport ImageGallery from \"./imageGallery/ImageGallery\";\r\nimport Searchbar from \"./searchbar/Searchbar\";\r\nimport axios from \"axios\";\r\nimport Modal from \"./modal/Modal\";\r\nimport styles from \"./App.module.css\";\r\nimport Loader from \"react-loader-spinner\";\r\n\r\nclass App extends Component {\r\n  state = {\r\n    searchedText: \"\",\r\n    gallery: [],\r\n    page: 1,\r\n    total: 0,\r\n    largeImageURL: {},\r\n    error: null,\r\n    showModal: false,\r\n    showLoader: false,\r\n  };\r\n\r\n  componentDidMount() {}\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if (prevState.searchedText !== this.state.searchedText) {\r\n      this.galleryAppear();\r\n    }\r\n  }\r\n\r\n  toggleModal = () => {\r\n    this.setState(({ showModal }) => ({\r\n      showModal: !showModal,\r\n    }));\r\n  };\r\n\r\n  galleryAppear = () => {\r\n    this.setState({ showLoader: true });\r\n    this.fetchApi()\r\n      .then((res) => {\r\n        this.setState((prevState) => ({\r\n          gallery: [...prevState.gallery, ...res.hits],\r\n          page: prevState.page + 1,\r\n          total: res.total,\r\n        }));\r\n        this.scroll();\r\n      })\r\n      .catch((error) => this.setState({ error }))\r\n      .finally(() => this.setState({ showLoader: false }));\r\n  };\r\n\r\n  scroll = () => {\r\n    window.scrollTo({\r\n      top: document.documentElement.scrollHeight,\r\n      behavior: \"smooth\",\r\n    });\r\n  };\r\n\r\n  fetchApi = () => {\r\n    const BASE_URL = \"https://pixabay.com/api/\";\r\n    const APIKEY = \"23308675-3bdf2416796cf281a4ef874ab\";\r\n    return axios\r\n      .get(\r\n        `${BASE_URL}?q=${this.state.searchedText}&page=${this.state.page}&key=${APIKEY}&image_type=photo&orientation=horizontal&per_page=12`\r\n      )\r\n      .then((res) => res.data);\r\n  };\r\n\r\n  onHandleSearchbarSubmit = (searchedText) => {\r\n    this.setState({ searchedText });\r\n  };\r\n\r\n  onPictureClick = (largeImg) => {\r\n    this.setState({ largeImageURL: largeImg });\r\n    this.toggleModal();\r\n  };\r\n\r\n  showBtnLoadMore = () => {\r\n    return Math.ceil(this.state.total / 12) !== this.state.page - 1;\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div className={styles.App}>\r\n        <Searchbar onSubmit={this.onHandleSearchbarSubmit} />\r\n        {this.state.gallery.length > 0 && (\r\n          <ImageGallery\r\n            onPictureClick={this.onPictureClick}\r\n            searchedText={this.state.searchedText}\r\n            gallery={this.state.gallery}\r\n          />\r\n        )}\r\n        {this.state.showLoader && (\r\n          <Loader\r\n            type=\"ThreeDots\"\r\n            color=\"#6f03fc\"\r\n            height={80}\r\n            width={80}\r\n            className={styles.loader}\r\n          />\r\n        )}\r\n\r\n        {this.state.gallery.length > 0 &&\r\n          !this.state.showLoader &&\r\n          this.showBtnLoadMore && <Button galleryAppear={this.galleryAppear} />}\r\n\r\n        {this.state.showModal && (\r\n          <Modal closeModal={this.toggleModal}>\r\n            <img src={this.state.largeImageURL} alt=\"#\" />\r\n          </Modal>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n//\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './Components/App';\nimport './index.css';\n\n\nReactDOM.render(\n  <>\n    <App />\n  </>,\n  document.getElementById('root')\n);\n\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__3zLB9\",\"SearchForm\":\"Searchbar_SearchForm__CcCKx\",\"SearchFormButton\":\"Searchbar_SearchFormButton__uo8Z1\",\"SearchForm-button\":\"Searchbar_SearchForm-button__2wIqu\",\"SearchForm-button-label\":\"Searchbar_SearchForm-button-label__2TulJ\",\"SearchFormInput\":\"Searchbar_SearchFormInput__2LTu6\",\"SearchForm-input\":\"Searchbar_SearchForm-input__3eLfg\"};"],"sourceRoot":""}