{"version":3,"sources":["Components/imageGallery/imageGalleryItem/ImageGalleryItem.module.css","Components/modal/Modal.module.css","Components/App.module.css","Components/button/Buttom.module.css","Components/imageGallery/ImageGallery.module.css","Components/button/Button.js","Components/imageGallery/imageGalleryItem/ImageGalleryItem.js","Components/imageGallery/ImageGallery.js","Components/searchbar/Searchbar.js","Components/modal/Modal.js","services/API.js","Components/App.js","index.js","Components/searchbar/Searchbar.module.css"],"names":["module","exports","Button","galleryAppear","type","onClick","className","styles","ImageGalleryItem","imgURl","onPictureClick","largeImg","src","alt","ImageGalleryItemImage","ImageGallery","this","props","gallery","map","hit","largeImageURL","webformatURL","id","Component","Searchbar","state","searchedText","onHandleSubmit","e","preventDefault","onSubmit","setState","onHandleChange","value","target","SearchForm","SearchFormButton","onChange","name","SearchFormInput","Modal","onKeyDown","code","closeModal","onBackDropClick","currentTarget","window","addEventListener","removeEventListener","Overlay","children","fetchApi","page","axios","get","then","res","data","App","total","error","showModal","showLoader","toggleModal","scroll","scrollTo","top","document","documentElement","scrollHeight","behavior","onHandleSearchbarSubmit","showBtnLoadMore","Math","ceil","handlePageIncr","Number","toString","prevProps","prevState","hits","catch","finally","length","color","height","width","loader","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.caa7f022.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__3Gfvj\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__1XU_F\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__25CkC\",\"Modal\":\"Modal_Modal__2ausB\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__3Wuat\",\"loader\":\"App_loader__3Kamw\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Buttom_Button__3n8Jl\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__Fvmz9\"};","import React from \"react\";\r\nimport styles from \"./Buttom.module.css\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nconst Button = ({ galleryAppear }) => {\r\n  return (\r\n    <button type=\"button\" onClick={galleryAppear} className={styles.Button}>\r\n      Load more\r\n    </button>\r\n  );\r\n};\r\n\r\nButton.propTypes = {\r\n  galleryAppear: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Button;\r\n","import React from \"react\";\r\nimport styles from \"./ImageGalleryItem.module.css\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nconst ImageGalleryItem = ({ imgURl, onPictureClick, largeImg }) => {\r\n  return (\r\n    <li\r\n      className={styles.ImageGalleryItem}\r\n      onClick={() => onPictureClick(largeImg)}\r\n    >\r\n      <img src={imgURl} alt=\"#\" className={styles.ImageGalleryItemImage} />\r\n    </li>\r\n  );\r\n};\r\n\r\nImageGalleryItem.propTypes = {\r\n  imgURl: PropTypes.string.isRequired,\r\n  onPictureClick: PropTypes.func.isRequired,\r\n  largeImg: PropTypes.string.isRequired,\r\n};\r\n\r\nexport default ImageGalleryItem;\r\n","import React, { Component } from \"react\";\r\nimport ImageGalleryItem from \"./imageGalleryItem/ImageGalleryItem\";\r\n// import PropTypes from \"prop-types\"; ????  не понимаю почему не работает\r\n\r\nimport styles from \"./ImageGallery.module.css\";\r\n\r\nclass ImageGallery extends Component {\r\n  render() {\r\n    return (\r\n      <>\r\n        <ul className={styles.ImageGallery}>\r\n          {this.props.gallery.map((hit) => (\r\n            <ImageGalleryItem\r\n              largeImg={hit.largeImageURL}\r\n              imgURl={hit.webformatURL}\r\n              key={hit.id}\r\n              onPictureClick={this.props.onPictureClick}\r\n            />\r\n          ))}\r\n        </ul>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ImageGallery;\r\n","import React, { Component } from \"react\";\r\nimport styles from \"./Searchbar.module.css\";\r\n\r\nclass Searchbar extends Component {\r\n  state = {\r\n    searchedText: \"\",\r\n  };\r\n\r\n  onHandleSubmit = (e) => {\r\n    e.preventDefault();\r\n    this.props.onSubmit(this.state.searchedText);\r\n    this.setState({ searchedText: \"\" });\r\n  };\r\n\r\n  onHandleChange = (e) => {\r\n    const value = e.target.value;\r\n    this.setState({ searchedText: value });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <>\r\n        <div className={styles.Searchbar}>\r\n          <form onSubmit={this.onHandleSubmit} className={styles.SearchForm}>\r\n            <button type=\"submit\" className={styles.SearchFormButton}></button>\r\n            <input\r\n              type=\"text\"\r\n              onChange={this.onHandleChange}\r\n              value={this.state.searchedText}\r\n              name=\"searchedText\"\r\n              className={styles.SearchFormInput}\r\n            />\r\n          </form>\r\n        </div>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Searchbar;\r\n","import React, { Component } from \"react\";\r\nimport styles from \"./Modal.module.css\";\r\n\r\nclass Modal extends Component {\r\n  componentDidMount() {\r\n    window.addEventListener(\"keydown\", this.onKeyDown);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener(\"keydown\", this.onKeyDown);\r\n  }\r\n\r\n  onKeyDown = (e) => {\r\n    if (e.code === \"Escape\") {\r\n      this.props.closeModal();\r\n    }\r\n  };\r\n\r\n  onBackDropClick = (e) => {\r\n    if (e.currentTarget === e.target) {\r\n      this.props.closeModal();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div className={styles.Overlay} onClick={this.onBackDropClick}>\r\n        <div className={styles.Modal}>{this.props.children}</div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Modal;\r\n","// https://pixabay.com/api/?q=что_искать\r\n// & page=номер_страницы\r\n//  & key=твой_ключ\r\n//  & image_type=photo\r\n//  & orientation=horizontal\r\n//  & per_page=12\r\n//  const url = https://pixabay.com/api/?q=что_искать&page=номер_страницы&key=твой_ключ&image_type=photo&orientation=horizontal&per_page=12\r\n\r\nimport axios from \"axios\";\r\nconst BASE_URL = \"https://pixabay.com/api/\";\r\n\r\nconst KEY = \"23308675-3bdf2416796cf281a4ef874ab\";\r\n\r\nconst fetchApi = (searchedText, page) => {\r\n  return axios\r\n    .get(\r\n      `${BASE_URL}?q=${searchedText}&page=${page}&key=${KEY}&image_type=photo&orientation=horizontal&per_page=12`\r\n    )\r\n    .then((res) => res.data);\r\n};\r\n\r\nexport default fetchApi;\r\n","import React, { Component } from \"react\";\r\nimport Button from \"./button/Button\";\r\nimport ImageGallery from \"./imageGallery/ImageGallery\";\r\nimport Searchbar from \"./searchbar/Searchbar\";\r\n// import axios from \"axios\";\r\nimport Modal from \"./modal/Modal\";\r\nimport styles from \"./App.module.css\";\r\nimport Loader from \"react-loader-spinner\";\r\nimport fetchApi from \"../services/API\";\r\n\r\nclass App extends Component {\r\n  state = {\r\n    searchedText: \"\",\r\n    gallery: [],\r\n    page: \"1\",\r\n    total: 0,\r\n    largeImageURL: {},\r\n    error: null,\r\n    showModal: false,\r\n    showLoader: false,\r\n  };\r\n\r\n  componentDidMount() {}\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if (prevState.searchedText !== this.state.searchedText) {\r\n      this.setState({ showLoader: true });\r\n      fetchApi(this.state.searchedText, this.state.page)\r\n        .then((res) => {\r\n          this.setState({\r\n            gallery: [...res.hits],\r\n\r\n            total: res.total,\r\n          });\r\n          this.scroll();\r\n        })\r\n        .catch((error) => this.setState({ error }))\r\n        .finally(() => this.setState({ showLoader: false }));\r\n    }\r\n\r\n    if (\r\n      prevState.searchedText === this.state.searchedText &&\r\n      prevState.page !== this.state.page\r\n    ) {\r\n      this.setState({ showLoader: true });\r\n      fetchApi(this.state.searchedText, this.state.page)\r\n        .then((res) => {\r\n          this.setState((prevState) => ({\r\n            gallery: [...prevState.gallery, ...res.hits],\r\n\r\n            total: res.total,\r\n          }));\r\n          this.scroll();\r\n        })\r\n        .catch((error) => this.setState({ error }))\r\n        .finally(() => this.setState({ showLoader: false }));\r\n    }\r\n  }\r\n\r\n  toggleModal = () => {\r\n    this.setState(({ showModal }) => ({\r\n      showModal: !showModal,\r\n    }));\r\n  };\r\n\r\n  scroll = () => {\r\n    window.scrollTo({\r\n      top: document.documentElement.scrollHeight,\r\n      behavior: \"smooth\",\r\n    });\r\n  };\r\n\r\n  onHandleSearchbarSubmit = (searchedText) => {\r\n    this.setState({ searchedText, page: \"1\" });\r\n  };\r\n\r\n  onPictureClick = (largeImg) => {\r\n    this.setState({ largeImageURL: largeImg });\r\n    this.toggleModal();\r\n  };\r\n\r\n  showBtnLoadMore = () => {\r\n    return Math.ceil(this.state.total / 12) !== this.state.page - 1;\r\n  };\r\n\r\n  handlePageIncr = () => {\r\n    this.setState({ page: (Number(this.state.page) + 1).toString() });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div className={styles.App}>\r\n        <Searchbar onSubmit={this.onHandleSearchbarSubmit} />\r\n        {this.state.gallery.length > 0 && (\r\n          <ImageGallery\r\n            onPictureClick={this.onPictureClick}\r\n            searchedText={this.state.searchedText}\r\n            gallery={this.state.gallery}\r\n          />\r\n        )}\r\n        {this.state.showLoader && (\r\n          <Loader\r\n            type=\"ThreeDots\"\r\n            color=\"#6f03fc\"\r\n            height={80}\r\n            width={80}\r\n            className={styles.loader}\r\n          />\r\n        )}\r\n\r\n        {this.state.gallery.length > 0 &&\r\n          !this.state.showLoader &&\r\n          this.showBtnLoadMore && (\r\n            <Button galleryAppear={this.handlePageIncr} />\r\n          )}\r\n\r\n        {this.state.showModal && (\r\n          <Modal closeModal={this.toggleModal}>\r\n            <img src={this.state.largeImageURL} alt=\"#\" />\r\n          </Modal>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n//\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './Components/App';\nimport './index.css';\n\n\nReactDOM.render(\n  <>\n    <App />\n  </>,\n  document.getElementById('root')\n);\n\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__3zLB9\",\"SearchForm\":\"Searchbar_SearchForm__CcCKx\",\"SearchFormButton\":\"Searchbar_SearchFormButton__uo8Z1\",\"SearchForm-button\":\"Searchbar_SearchForm-button__2wIqu\",\"SearchForm-button-label\":\"Searchbar_SearchForm-button-label__2TulJ\",\"SearchFormInput\":\"Searchbar_SearchFormInput__2LTu6\",\"SearchForm-input\":\"Searchbar_SearchForm-input__3eLfg\"};"],"sourceRoot":""}